<main>
  <h1>Frutas similares al lichi</h1>

  <p>
    Una vez afirmé que lichi, rambután y mamoncillo eran básicamente lo mismo.
    Esta página es una respuesta más cuidadosa.
  </p>

  <h2>Contexto taxonómico</h2>

  <p>
    La mayoría de las frutas similares al lichi que se muestran en esta página pertenecen a la familia 
    <strong>Sapindaceae</strong> (familia de las sapindáceas o "soapberry"). 
    Esta familia se encuentra dentro del orden <strong>Sapindales</strong>.
  </p>

  <p>
    La familia Sapindaceae contiene aproximadamente 140 géneros y casi 2.000 especies,
    incluyendo lichi, rambután, mamoncillo, longan, pulasan, ackee, guaraná, soapberries, arces y castaños de indias. 
    Aunque estas frutas pueden parecer similares, la similitud que comparten se encuentra a nivel de la familia,
    no a nivel de especie.
  </p>

  <h2>Géneros y especies seleccionadas</h2>

  <h3>Sapindaceae (familia de las sapindáceas)</h3>

  <ul>
    <li><em>Litchi chinensis</em> — lichi</li>
    <li><em>Dimocarpus longan</em> — longan</li>
    <li><em>Nephelium lappaceum</em> — rambután</li>
    <li><em>Nephelium mutabile</em> — pulasan</li>
    <li><em>Melicoccus bijugatus</em> — mamoncillo / guinep</li>
    <li><em>Pometia pinnata</em> — korlan / matoa</li>
    <li><em>Blighia sapida</em> — ackee</li>
    <li><em>Paullinia cupana</em> — guaraná</li>
    <li><em>Sapindus</em> spp. — soapberries</li>
    <li><em>Acer</em> spp. — arces</li>
    <li><em>Aesculus</em> spp. — castaños de indias</li>
    <li><em>Schleichera trijuga</em> — aceite de Macasar</li>
    <li><em>Koelreuteria</em>, <em>Cardiospermum</em>, <em>Ungnadia</em> — ornamentales</li>
  </ul>

  <h3>Clusiaceae</h3>
  <ul>
    <li><em>Garcinia mangostana</em> — mangostán</li>
    <li><em>Garcinia gummi-gutta</em> — tamarindo malabar</li>
  </ul>

  <h3>Annonaceae</h3>
  <ul>
    <li><em>Annona muricata</em> — guanábana / soursop</li>
    <li><em>Annona squamosa</em> — chirimoya / sugar apple</li>
    <li><em>Annona reticulata</em> — atemoya</li>
  </ul>

  <h2>Tabla de distancias taxonómicas</h2>

  <p>
    La siguiente tabla muestra las distancias taxonómicas entre todas las especies seleccionadas.
    Cada número indica la cantidad de pasos necesarios en la clasificación desde la especie hasta el orden 
    (Especie → Género → Subfamilia → Familia → Orden). 
    Cuanto menor sea el número, más cercanas están evolutivamente.
    Las celdas en rosa representan frutas comestibles similares al lichi dentro de la familia Sapindaceae.
  </p>

  <table id="distance-table">
    <thead>
      <tr>
        <th></th>
        <th>Lichi</th>
        <th>Rambután</th>
        <th>Pulasan</th>
        <th>Mamoncillo</th>
        <th>Longan</th>
        <th>Ackee</th>
        <th>Guaraná</th>
        <th>Soapberries</th>
        <th>Korlan</th>
        <th>Arce</th>
        <th>Castaño de indias</th>
        <th>Mangostán</th>
        <th>Guanábana</th>
        <th>Chirimoya</th>
        <th>Atemoya</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
  const taxa = {
    "Lichi": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Litchi", species:"chinensis", lycheeLike:true },
    "Rambután": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Nephelium", species:"lappaceum", lycheeLike:true },
    "Pulasan": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Nephelium", species:"mutabile", lycheeLike:true },
    "Mamoncillo": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Melicoccus", species:"bijugatus", lycheeLike:true },
    "Longan": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Dimocarpus", species:"longan", lycheeLike:true },
    "Ackee": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Blighia", species:"sapida", lycheeLike:true },
    "Guaraná": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Paullinia", species:"cupana", lycheeLike:true },
    "Soapberries": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Sapindus", species:"spp", lycheeLike:true },
    "Korlan": { order:"Sapindales", family:"Sapindaceae", subfamily:"Sapindoideae", genus:"Pometia", species:"pinnata", lycheeLike:true },
    "Arce": { order:"Sapindales", family:"Sapindaceae", subfamily:"Hippocastanoideae", genus:"Acer", species:"spp", lycheeLike:false },
    "Castaño de indias": { order:"Sapindales", family:"Sapindaceae", subfamily:"Hippocastanoideae", genus:"Aesculus", species:"spp", lycheeLike:false },
    "Mangostán": { order:"Malpighiales", family:"Clusiaceae", subfamily:"", genus:"Garcinia", species:"mangostana", lycheeLike:false },
    "Guanábana": { order:"Magnoliales", family:"Annonaceae", subfamily:"", genus:"Annona", species:"muricata", lycheeLike:false },
    "Chirimoya": { order:"Magnoliales", family:"Annonaceae", subfamily:"", genus:"Annona", species:"squamosa", lycheeLike:false },
    "Atemoya": { order:"Magnoliales", family:"Annonaceae", subfamily:"", genus:"Annona", species:"reticulata", lycheeLike:false }
  };

  const levels = ["order","family","subfamily","genus","species"];
  const tbody = document.querySelector("#distance-table tbody");
  const names = Object.keys(taxa);

  names.forEach(row => {
    const tr = document.createElement("tr");
    const th = document.createElement("th");
    th.textContent = row;
    tr.appendChild(th);

    names.forEach(col => {
      const td = document.createElement("td");
      let d = 2*levels.length; // default max
      for(let i=levels.length-1;i>=0;i--){
        if(taxa[row][levels[i]] && taxa[row][levels[i]]===taxa[col][levels[i]]){
          d = 2*(levels.length-1-i);
          break;
        }
      }
      td.textContent = d;
      // Sombras para frutas similares al lichi
      if(taxa[row].lycheeLike && taxa[col].lycheeLike) td.style.backgroundColor="#fde0dc";
      tr.appendChild(td);
    });

    tbody.appendChild(tr);
  });
  </script>

</main>
